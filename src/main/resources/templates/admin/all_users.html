<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="${title}">All Users</title>
  <th:block th:replace="~{fragments/common_css::commonCss1}"></th:block>

  <style>
    .user-img {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
      margin: auto;              /* Remove extra spacing */
      padding: 0;             /* Remove internal padding */
      display: block;
     
    }
    table td {
     padding: 4px 8px !important;  /* Reduce default table cell padding */
     vertical-align: middle;
    height: 90px; /* Adjust height as needed */
  }
  </style>
</head>
<body>

  <!-- Header -->
  <div th:replace="~{fragments/adminHeader::headerFragment}"></div>

  <!-- Page Title -->
  <h2 class="text-center text-success my-3">All Users</h2>

  <!-- Main Content -->
  <div class="main-body px-2" style="max-width: 100vw; overflow-x: auto;">    
    <table class="table table-success table-striped-columns align-middle text-center">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>User Pic</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="user, iterStat : ${userInfo}">
          <th th:text="${iterStat.count}">1</th>
          <td th:text="${user.name}">Name</td>
          <td th:text="${user.email}">Email</td>
          <td th:text="${user.phone}">Phone</td>
          
        <td> 
		  <a th:href="@{'/' + ${user.pic}}" target="_blank"> 
		    <img th:src="@{'/' + ${user.pic}}" alt="Profile Picture" class="user-img">
		  </a>
      </td>

          
          <td>
            <a th:href="@{/admin/deleteUser(email=${user.email})}" 
               class="btn btn-sm btn-danger" 
               onclick="return confirm('Are you sure you want to delete this user?');">
              <i class="fas fa-trash-alt me-1"></i> Delete
            </a>
           <!--  th:href="@{/admin/editUser(email=${user.email}),(phone=${user.phone})}" --> 
             <a th:href="@{/admin/editUser(email=${user.email})}" 
               class="btn btn-sm btn-success">
              <i class="fas fa-trash-alt me-1"></i>Edit
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Footer -->
  <div th:replace="~{fragments/footer::footerFragment}"></div>

</body>
</html>
